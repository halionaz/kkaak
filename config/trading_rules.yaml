# Risk Management Configuration
risk_management:
  # Position sizing
  max_position_per_stock: 0.05  # 5% max per stock
  max_total_exposure: 0.80      # 80% max total exposure

  # Stop-loss and take-profit
  stop_loss: -0.03              # -3% automatic exit
  take_profit_partial: 0.05     # +5% sell 50%
  take_profit_full: 0.10        # +10% sell all

  # Trading limits
  max_trades_per_day_per_stock: 3
  max_total_trades_per_day: 20

  # Circuit breaker
  daily_loss_limit: -0.02       # -2% halt trading

# Decision Engine Configuration
decision_weights:
  llm_analysis: 0.6             # 60% weight on LLM
  technical_analysis: 0.4       # 40% weight on technicals

# Confidence thresholds
thresholds:
  min_confidence: 0.7           # 70% minimum confidence
  high_confidence: 0.85         # 85%+ = high confidence signal

# Technical Indicator Rules
technical_rules:
  # RSI
  rsi_oversold: 30
  rsi_overbought: 70

  # For buy signal confirmation
  buy_confirmation:
    rsi_max: 70                 # RSI should be < 70
    macd_min: 0                 # MACD should be positive
    price_above_sma50: true     # Price > SMA50

  # For sell signal confirmation
  sell_confirmation:
    rsi_min: 30                 # RSI should be > 30
    macd_max: 0                 # MACD should be negative
    price_below_sma50: true     # Price < SMA50

# 파이프라인 설정
pipeline:
  # 장전 분석 설정
  premarket:
    schedule_time: "09:00"        # ET: 9:00 AM = ~23:00 KST (동부 표준시) / 22:00 KST (서머타임)
    news_lookback_hours: 24       # 지난 24시간 뉴스 수집
    news_limit: 100               # 최대 수집 기사 수
    schedule_window_minutes: 5    # 예정 시간 기준 5분 윈도우 내 실행

  # 실시간 분석 설정
  realtime:
    interval_minutes: 20          # 장중 20분마다 실행
    news_lookback_hours: 1        # 지난 1시간 뉴스 수집
    news_limit: 50                # 최대 수집 기사 수
    news_cutoff_minutes: 35       # 최근 35분 이내 기사만 분석

  # 스케줄러 설정
  scheduler:
    check_interval_seconds: 60    # 60초마다 스케줄 체크

# 시장 시간 (미국 동부 시간)
market_hours:
  premarket_start: "04:00"        # 프리마켓 시작
  market_open: "09:30"            # 정규 장 시작
  market_close: "16:00"           # 정규 장 종료
  afterhours_end: "20:00"         # 애프터마켓 종료

# 뉴스 분석 설정 (API 관련)
news_settings:
  # 컨텐츠 제한 (토큰 최적화)
  max_news_content_chars: 1000
  max_news_articles_per_batch: 50
